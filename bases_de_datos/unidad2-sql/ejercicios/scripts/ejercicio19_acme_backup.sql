/* 
SQLyog v4.03
Host - localhost : Database - acme
**************************************************************
Server version 5.7.17-log
*/

create database if not exists `acme`;

use `acme`;

/*
Table structure for clientes
*/

drop table if exists `clientes`;
CREATE TABLE `clientes` (
  `CLIENTE_NO` int(4) NOT NULL,
  `NOMBRE` varchar(25) DEFAULT NULL,
  `LOCALIDAD` varchar(14) DEFAULT NULL,
  `VENDEDOR_NO` int(4) DEFAULT NULL,
  `DEBE` float(9,2) DEFAULT NULL,
  `HABER` float(9,2) DEFAULT NULL,
  `LIMITE_CREDITO` float(9,2) DEFAULT NULL,
  PRIMARY KEY (`CLIENTE_NO`),
  KEY `FK_CLI_EMP_NO` (`VENDEDOR_NO`),
  CONSTRAINT `FK_CLI_EMP_NO` FOREIGN KEY (`VENDEDOR_NO`) REFERENCES `empleados` (`EMP_NO`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

/*
Table data for acme.clientes
*/

INSERT INTO `clientes` VALUES 
(101,'DISTRIBUCIONES GOMEZ','MADRID',7499,0.00,0.00,5000.00),
(102,'LOGITRONICA S.L','BARCELONA',7654,0.00,0.00,5000.00),
(103,'INDUSTRIAS LACTEAS S.A.','LAS ROZAS',7844,0.00,0.00,10000.00),
(104,'TALLERES ESTESO S.A.','SEVILLA',7654,0.00,0.00,5000.00),
(105,'EDICIONES SANZ','BARCELONA',7499,0.00,0.00,5000.00),
(106,'SIGNOLOGIC S.A.','MADRID',7654,0.00,0.00,5000.00),
(107,'MARTIN Y ASOCIADOS S.L.','ARAVACA',7844,0.00,0.00,10000.00),
(108,'MANUFACTURAS ALI S.A.','SEVILLA',7654,0.00,0.00,5000.00);

/*
Table structure for departamentos
*/

drop table if exists `departamentos`;
CREATE TABLE `departamentos` (
  `DEP_NO` int(2) NOT NULL,
  `DNOMBRE` varchar(14) DEFAULT NULL,
  `LOCALIDAD` varchar(10) DEFAULT NULL,
  PRIMARY KEY (`DEP_NO`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

/*
Table data for acme.departamentos
*/

INSERT INTO `departamentos` VALUES 
(10,'CONTABILIDAD','BARCELONA'),
(20,'INVESTIGACION','VALENCIA'),
(30,'VENTAS','MADRID'),
(40,'PRODUCCION','SEVILLA'),
(50,'SEGURIDAD',NULL),
(66,'AUDITORIA','TORRELAVEG'),
(77,'CALIDAD',NULL)
;


/*
Table structure for empleados
*/

drop table if exists `empleados`;
CREATE TABLE `empleados` (
  `EMP_NO` int(4) NOT NULL,
  `APELLIDO` varchar(8) DEFAULT NULL,
  `OFICIO` varchar(10) DEFAULT NULL,
  `DIRECTOR` int(4) DEFAULT NULL,
  `FECHA_ALTA` date DEFAULT NULL,
  `SALARIO` float(6,2) DEFAULT NULL,
  `COMISION` float(6,2) DEFAULT NULL,
  `DEP_NO` int(2) DEFAULT NULL,
  PRIMARY KEY (`EMP_NO`),
  KEY `FK_EMP_DIRECTOR` (`DIRECTOR`),
  KEY `FK_EMP_DEP_NO` (`DEP_NO`),
  CONSTRAINT `FK_EMP_DEP_NO` FOREIGN KEY (`DEP_NO`) REFERENCES `departamentos` (`DEP_NO`),
  CONSTRAINT `FK_EMP_DIRECTOR` FOREIGN KEY (`DIRECTOR`) REFERENCES `empleados` (`EMP_NO`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

/*
Table data for acme.empleados
*/

INSERT INTO `empleados` VALUES 
(7400,'Barrio',NULL,NULL,'2019-11-22',NULL,NULL,20),
(7499,'ALONSO','VENDEDOR',7698,'1981-02-23',1400.00,400.00,30),
(7521,'LOPEZ','EMPLEADO',7782,'1981-05-08',1350.50,NULL,10),
(7654,'MARTIN','VENDEDOR',7698,'1981-09-28',1500.00,1600.00,30),
(7698,'GARRIDO','DIRECTOR',7839,'1981-05-01',3850.12,NULL,30),
(7782,'MARTINEZ','DIRECTOR',7839,'1981-06-09',2450.00,NULL,10),
(7839,'REY','PRESIDENTE',NULL,'1981-11-17',6000.00,NULL,10),
(7844,'CALVO','VENDEDOR',7698,'1981-09-08',1800.00,0.00,30),
(7876,'GIL','ANALISTA',7782,'1982-05-06',3350.00,NULL,20),
(7900,'JIMENEZ','EMPLEADO',7782,'1983-03-24',1400.00,NULL,20)
;

/*
Table structure for pedidos
*/

drop table if exists `pedidos`;
CREATE TABLE `pedidos` (
  `PEDIDO_NO` int(4) NOT NULL,
  `PRODUCTO_NO` int(4) DEFAULT NULL,
  `CLIENTE_NO` int(4) DEFAULT NULL,
  `UNIDADES` int(4) DEFAULT NULL,
  `FECHA_PEDIDO` date DEFAULT NULL,
  PRIMARY KEY (`PEDIDO_NO`),
  KEY `FK_PEDIDOS_PRODUCTO_NO` (`PRODUCTO_NO`),
  KEY `FK_PEDIDOS_CLIENTE_NO` (`CLIENTE_NO`),
  CONSTRAINT `FK_PEDIDOS_CLIENTE_NO` FOREIGN KEY (`CLIENTE_NO`) REFERENCES `clientes` (`CLIENTE_NO`) ON DELETE CASCADE,
  CONSTRAINT `FK_PEDIDOS_PRODUCTO_NO` FOREIGN KEY (`PRODUCTO_NO`) REFERENCES `productos` (`PRODUCTO_NO`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

/*
Table data for acme.pedidos
*/

INSERT INTO `pedidos` VALUES 
(1000,20,103,3,'1999-10-06'),
(1001,50,106,2,'1999-10-06'),
(1002,10,101,4,'1999-10-07'),
(1003,20,105,4,'1999-10-16'),
(1004,40,106,8,'1999-10-20'),
(1005,30,105,2,'1999-10-20'),
(1006,70,103,3,'1999-11-03'),
(1007,50,101,2,'1999-11-06'),
(1008,10,106,6,'1999-11-16'),
(1009,20,105,2,'1999-11-26'),
(1010,40,102,3,'1999-12-08'),
(1011,30,106,2,'1999-12-15'),
(1012,10,105,3,'1999-12-06'),
(1013,30,106,2,'1999-12-06'),
(1014,20,101,4,'2000-01-07'),
(1015,70,105,4,'2000-01-16'),
(1017,20,105,6,'2000-01-20');

/*
Table structure for productos
*/

drop table if exists `productos`;
CREATE TABLE `productos` (
  `PRODUCTO_NO` int(4) NOT NULL,
  `DESCRIPCION` varchar(30) DEFAULT NULL,
  `PRECIO_ACTUAL` float(8,2) DEFAULT NULL,
  `STOCK_DISPONIBLE` int(9) DEFAULT NULL,
  PRIMARY KEY (`PRODUCTO_NO`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

/*
Table data for acme.productos
*/

INSERT INTO `productos` VALUES 
(10,'MESA DESPACHO MOD. GAVIOTA',550.00,50),
(20,'SILLA DIRECTOR MOD. BUFALO',670.00,25),
(30,'ARMARIO NOGAL DOS PUERTAS',460.00,20),
(40,'MESA MODELO UNI',340.00,15),
(50,'ARCHIVADOR CEREZO',1050.00,20),
(60,'CAJA SEGURIDAD MOD B222',280.00,15),
(70,'DESTRUCTORA DE PAPEL A3',450.00,25),
(80,'MODULO ORDENADOR MOD. ERGOS',550.00,25);

